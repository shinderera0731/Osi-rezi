# Osi-rezi（推しレジ）


### How To Use（使い方）

#### 1. 初期設定

- システム初期化でデータベース構築
- 管理者アカウント（admin/password）でログイン
- 税率、店舗情報、低在庫アラート閾値を設定

#### 2. 商品とスタッフの登録

- 商品名、カテゴリ、価格、歩合設定を入力
- スタッフ情報（ユーザー名、パスワード）を登録
- 自動でスタッフIDが生成される

#### 3. 日常業務

- 左側の商品一覧から商品をクリック
- カート内で各商品に担当スタッフを割り当て
- 「支払いへ進む」→ 受取金額入力 → 「会計完了」
- 歩合は自動計算され、スタッフごとに記録される

#### 4. レポート確認

- ダッシュボードから「レポート」を選択
- 期間を選択して売上推移を確認
- スタッフ別実績や商品別分析を表示

#### 5. 日次精算

- 「点検・精算」から日次精算処理
- 売上確認、実地棚卸（紙幣・硬貨の枚数）を入力
- 差異確認後、「精算を完了する」で記録保存

### 法的適合性

#### 歩合給制度の適法性

- 労働基準法第27条に完全準拠
- 最低賃金保証機能（hourly_rateフィールド）
- 透明な計算方式（パーセンテージ型・固定額型）
- 詳細な記録保持で労働基準監督署の調査にも対応可能

#### 会計・税務面の適合性

- 売上・仕入・在庫の適切な記録
- 消費税計算機能
- 税務調査に対応可能な帳簿機能



### 技術仕様

#### フロントエンド

- HTML5 + CSS3（セマンティックマークアップ）
- Vanilla JavaScript（軽量・高速動作）
- CSS Variables（カラーパレット管理）
- レスポンシブデザイン（モバイル・タブレット・PC対応）
- カスタムCSSフレームワーク（フレームワーク依存なし、パフォーマンス重視）

#### バックエンド

- PHP 7.x以上（サーバーサイド処理）
- PDO（PHP Data Objects）によるデータベース抽象化
- MVCライクなモジュール型アーキテクチャ
  - `config/` - 設定管理（database.php, auth.php, functions.php）
  - `modules/` - ビジネスロジック（InventoryService等）
  - `includes/` - UI共通部品（styles.php, navigation.php）

#### データベース

- MySQL
- 開発環境: localhost（XAMPP）
- 本番環境: さくらインターネット（mysql3109.db.sakura.ne.jp）
- トランザクション処理対応
- データベース名: cafe_management（開発）/ gs-cinderella_pos_system（本番）

#### セキュリティ

- プリペアドステートメント（SQLインジェクション対策）
- セッション管理による認証
- RBAC（ロールベース・アクセス制御：admin/staff）
- password_hash関数によるパスワードハッシュ化
- エラーハンドリング（try-catch構文）

#### 開発環境

- XAMPP（ローカル開発サーバー）
- Git/GitHub（バージョン管理）

#### デプロイ環境

- さくらインターネット レンタルサーバー
- 既に本番環境で稼働中

#### AI開発支援ツール

- Claude（Anthropic）- コード生成・デバッグ支援
- Gemini（Google）- コード最適化・問題解決

#### その他機能

- CSV出力機能
- 日本語完全対応
- 印刷対応


